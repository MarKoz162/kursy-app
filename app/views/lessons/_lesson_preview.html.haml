
- if lesson.viewed(current_user) == true
  .far.fa-check-square
- else
  .far.fa-square
= link_to  course_lesson_path(@course, lesson) do
  = lesson.row_order_rank + 1
  = lesson.title
  .fa.fa-comment
  = lesson.comments_count
%p

.float-right
  .fa.fa-eye
  Impressions:
  = lesson.user_lessons.map(&:impressions).sum
  .fa.fa-comment
  = lesson.comments_count
  - if policy(lesson).edit?
    Unique viewers
    .fa.fa-eye
    = lesson.user_lessons.count
    = link_to 'Edit', edit_course_lesson_path(@course, lesson), class: 'btn btn-sm btn-warning'
    = link_to 'Destroy', [@course, lesson], method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger'